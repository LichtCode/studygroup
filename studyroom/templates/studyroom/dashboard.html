{% extends 'base.html' %}
{% load static %}

{% block title %}Dashboard{% endblock %}




 {% block content %}

 <style>
    body {
        font-family: Arial, sans-serif;
        margin: 20px;
    }

    .profile-header {
        display: flex;
        align-items: center;
        margin-bottom: 20px;
    }

    .profile-img {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        margin-right: 15px;
    }

    .tags-card {
        background-color: #00bfa6;
        color: #fff;
        padding: 15px;
        border-radius: 5px;
        height: 100%;
    }

    .card-title {
        font-weight: bold;
    }

    .contact-icon {
        margin-right: 10px;
    }

    .notifications {
        font-size: 24px;
    }
</style>

    {% comment %} <div class="container">
        <!-- Interest Section -->
        {% include 'studyroom/select_topics.html' with tags=tags user_tags=user_tags %} {% endcomment %}

        <!-- New Topic Section -->
        

        <div class="container mt-4">
            <!-- Profile Header -->
            <div class="profile-header">
                <img src="https://via.placeholder.com/50" alt="Profile" class="profile-img">
                <h2>Jonathan Patterson</h2>
            </div>
    
            <h3>Dashboard</h3>
    
            <div class="row gy-4">
                <!-- Tags Section -->
                <div class="col-md-4">
                    <div class="tags-card">
                        <h4>Tags</h4>
                        {% if user_tags %}
                            {% for tag in user_tags %}
                                <p>{{ tag }}</p> 
                            {% endfor %}
                        {% else %}
                            <p>You are yet to add any.</p>
                        {% endif %}
                    </div>
                </div>
    
                <!-- Interested Topics -->
                <div class="col-md-4">
                    <div class="card h-100">
                        <div class="card-body">
                            <h5 class="card-title">Your Interested Topics</h5>
                            <ul id="interested-topics-list" class="list-unstyled">
                                {% for topic in user_topics %}
                                    <li><strong>{{ topic.name }}</strong> - {{ topic.description }}</li>
                                {% empty %}
                                    <p>No topics set yet.</p>
                                {% endfor %}
                            </ul>
                            <button><a href="{% url 'topics' %}">More</a></button>
                        </div>
                    </div>
                </div>
    
                <!-- Users with Similar Interests -->
                <div class="col-md-4">
                    <div class="card h-100">
                        <div class="card-body">
                            <h5 class="card-title">Users with Similar Interests</h5>
                            <ul class="list-unstyled">
                                {% for match in matches %}
                                    <li>
                                        <a href="{% url 'profile' match.id %}">
                                            <span class="contact-icon">ðŸ“ž</span>
                                            <strong>{{ match.username }}</strong> - Tags: {{ match.tags.all|join:", " }}
                                        </a>
                                    </li>
                                {% empty %}
                                    <p>No matches found.</p>
                                {% endfor %}
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
    
            <div class="row gy-4 mt-3">
                <!-- Notifications -->
                <div class="col-md-2">
                    <div class="card h-100">
                        <div class="card-body text-center">
                            <span class="notifications">ðŸ””</span>
                            <p>Notifications</p>
                        </div>
                    </div>
                </div>
    
                <!-- My Groups -->
                <div class="col-md-4">
                    <div class="card h-100">
                        <div class="card-body">
                            <h5 class="card-title">My Groups</h5>
                            <ul id="groupList" class="list-unstyled">
                                {% if groups %}
                                    {% for group in groups %}
                                        <li>
                                            <a href="{% url 'group_detail' group.id %}">{{ group.name }}</a>
                                            - Members: {{ group.members.count }}
                                        </li>
                                    {% endfor %}
                                {% else %}
                                    <p>You are not a member of any groups yet.</p>
                                {% endif %}
                            </ul>
                            <button><a href="{% url 'groups' %}">More</a></button>
                        </div>
                    </div>
                </div>
    
                <!-- Study Sessions -->
                <div class="col-md-6">
                    <div class="card h-100">
                        <div class="card-body">
                            <h5 class="card-title">Your Study Sessions</h5>
                            <ul class="list-unstyled">
                                {% for session in sessions %}
                                    <li>{{ session.topic }} on {{ session.date_time }}</li>
                                {% empty %}
                                    <p>No sessions found.</p>
                                {% endfor %}
                            </ul>
                            <button><a href="{% url 'study_sessions' %}">More</a></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>

{% endblock %}
